<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  <title>VPS虚拟主机+Centos+brook搭建科学上网工具 | lyyourc</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="stylesheet" href="/css/app.css">
  <!-- <link rel='stylesheet' href='http://fonts.useso.com/css?family=Source+Code+Pro'> -->
  
</head>
</html>
<body>
  <nav class="app-nav">
  
    
      <a href="/.">home</a>
    
  
    
      <a href="/archives">archive</a>
    
  
    
      <a href="/atom.xml">rss</a>
    
  
</nav>

  <main class="post">
  <article>
  <h1 class="article-title">
    <a href="/year/04/19/VPS虚拟主机-Centos-brook搭建科学上网工具/">VPS虚拟主机+Centos+brook搭建科学上网工具</a>
  </h1>

  <section class="article-meta">
    <p class="article-date">April 19 2019</p>
  </section>

  <section class="article-entry">
    <p>科学上网必不可少。</p>
<p>做这件事之前，请先准备工作。</p>
<ul>
<li>购买一台可以自由访问外网的VPS虚拟主机</li>
<li>vps虚拟主机安装cenos7 64位</li>
<li>能以ssh方式，登录vps虚拟主机</li>
</ul>
<p>vps购买香港就可以了，大概在23元左右。要是不舍得就可以略过这篇文章了～～哈哈哈哈哈</p>
<a id="more"></a>
<ul>
<li><p>登录服务器，切换到根用户</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">su</span><br></pre></td></tr></table></figure>
</li>
<li><p>在根目录下新建文件夹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">my_brook</span><br></pre></td></tr></table></figure>
<p>，并将小河下载到文件夹内</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd / </span><br><span class="line">mkdir my_brook</span><br><span class="line">cd my_brook </span><br><span class="line">wget https://github.com/txthinking/brook/releases/download/v20181212/brook</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79ly1g27wy2qxlyj30tz08gjsm.jpg" alt></p>
<h2 id="开启服务"><a href="#开启服务" class="headerlink" title="开启服务"></a>开启服务</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 赋予执行权限</span><br><span class="line">chmod 777 brook</span><br><span class="line"># 开启服务</span><br><span class="line">./brook server -l :9999 -p password</span><br><span class="line"># 以非阻塞方式开启服务(比较推荐)</span><br><span class="line">./brook server -l :9999 -p password /dev/null 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79ly1g27wyc33bnj30tm02ywf3.jpg" alt></p>
<h2 id="用客户端登录"><a href="#用客户端登录" class="headerlink" title="用客户端登录"></a>用客户端登录</h2><ul>
<li><p>下载客户端Window客户端下载：<a href="https://github.com/txthinking/brook/releases/download/v20181212/Brook.exe" target="_blank" rel="noopener">https</a>：<a href="https://github.com/txthinking/brook/releases/download/v20181212/Brook.exe" target="_blank" rel="noopener">//github.com/txthinking/brook/releases/download/v20181212/Brook.exe</a> Mac客户端下载：<a href="https://github.com/txthinking/brook/releases/download/v20181212/Brook.dmg" target="_blank" rel="noopener">https</a>：<a href="https://github.com/txthinking/brook/releases/download/v20181212/Brook.dmg" target="_blank" rel="noopener">//github.com/txthinking/brook/releases/download/ v20181212 / Brook.dmg</a> 安卓客户端下载：<a href="https://github.com/txthinking/brook/releases/download/v20181212/Brook.apk" target="_blank" rel="noopener">https</a>：<a href="https://github.com/txthinking/brook/releases/download/v20181212/Brook.apk" target="_blank" rel="noopener">//github.com/txthinking/brook/releases/download/v20181212/Brook.apk</a> IOS客户端下载（你可能需要美国区账户）：<a href="https://itunes.apple.com/us/app/brook-brook-shadowsocks-vpn-proxy/id1216002642" target="_blank" rel="noopener">https：// itunes。 apple.com/us/app/brook-brook-shadowsocks-vpn-proxy/id1216002642</a></p>
</li>
<li><p>填写登录信息</p>
<p><img src="https://ws3.sinaimg.cn/large/006tNc79ly1g27wurg8ysj30jb0jcjsf.jpg" alt></p>
<p>右击任务栏图标选择启动就可以上网了。</p>
<p>如果你想让自己的服务更稳定一些，可以继续往下读</p>
<h2 id="先结束刚刚创建的进程"><a href="#先结束刚刚创建的进程" class="headerlink" title="先结束刚刚创建的进程"></a>先结束刚刚创建的进程</h2><p><img src="https://ws4.sinaimg.cn/large/006tNc79ly1g27wvxtsxuj30ua03n0th.jpg" alt></p>
<h2 id="安装守护进程PM2"><a href="#安装守护进程PM2" class="headerlink" title="安装守护进程PM2"></a>安装守护进程PM2</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum install nodejs</span><br><span class="line">npm install pm2 -g</span><br></pre></td></tr></table></figure>
<ul>
<li><p>在/ my_brook目录下创建文件 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">start_brook.sh</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /my_brook</span><br><span class="line">touch start_brook.sh</span><br></pre></td></tr></table></figure>
</li>
<li><p>用VI打开start_brook.sh</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi start_brook.sh</span><br></pre></td></tr></table></figure>
</li>
<li><p>在start_brook.sh内写入启动指令（的这里</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">9999</span><br></pre></td></tr></table></figure>
<p>可以换成你喜欢的端口，</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">password</span><br></pre></td></tr></table></figure>
<p>也可以换成你自己喜欢的密码）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./brook server -l :9999 -p password</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h2 id="PM2自带守护属性，用PM2启动小溪，在-my-brook下执行以下语句"><a href="#PM2自带守护属性，用PM2启动小溪，在-my-brook下执行以下语句" class="headerlink" title="PM2自带守护属性，用PM2启动小溪，在/my_brook下执行以下语句"></a>PM2自带守护属性，用PM2启动小溪，在<code>/my_brook</code>下执行以下语句</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pm2 start start_brook.sh</span><br></pre></td></tr></table></figure>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79ly1g27wwmx9tsj30u40dsjuj.jpg" alt></p>
<h2 id="相关问题："><a href="#相关问题：" class="headerlink" title="相关问题："></a>相关问题：</h2><ul>
<li>如何查看布鲁克服务端进程</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pm2 list</span><br></pre></td></tr></table></figure>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79ly1g27wwxwaaoj30th07a3zt.jpg" alt></p>
<ul>
<li>如何关闭小溪服务端进程</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pm2 delete start_brook</span><br></pre></td></tr></table></figure>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79ly1g27wx7j0gcj30ra07c0ug.jpg" alt></p>
<h2 id="小结："><a href="#小结：" class="headerlink" title="小结："></a>小结：</h2><p>Brook是一个蛮好用的工具，不需要ss复杂的部署过程，开箱即用，配合pm2可以提供非常稳定的服务，如果自己想搭建科学上网服务，可以试试Brook！</p>

  </section>
</article>

  <div class="sharing grid">
  <section class="profile grid-item grid">
    <img class="avatar" src="http://7xrcp8.com1.z0.glb.clouddn.com/avatar.png" alt="avatar">
    <div class="grid-item">
      <p class="title"> lyyourc </p>
      <p class="subtitle"> You Are The JavaScript In My HTML </p>
    <div>
  </div></div></section>

  <section class="share-btns">
    <!-- <p> share it if you like it~ </p> -->
    <a class="twitter-share-button" data-size="large" data-via="DrakeLeung" href="https://twitter.com/intent/tweet?text=科学上网必不可少。</p>
<p>做这件">
  Tweet
</a>

<script>
  window.twttr = (function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0],
    t = window.twttr || {};
  if (d.getElementById(id)) return t;
  js = d.createElement(s);
  js.id = id;
  js.src = "https://platform.twitter.com/widgets.js";
  js.async = true;
  fjs.parentNode.insertBefore(js, fjs);

  t._e = [];
  t.ready = function(f) {
    t._e.push(f);
  };

  return t;
}(document, "script", "twitter-wjs"));
</script>

  </section>
</div>


  
    
<section class="article-comment">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>

<script>
  var disqus_shortname = 'drakeleung';
  
  var disqus_url = 'http://wangyuehan.github.io/year/04/19/VPS虚拟主机-Centos-brook搭建科学上网工具/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


  
</main>

<script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"position":"right","width":80,"height":160},"mobile":{"show":true},"react":{"opacityDefault":0.6,"opacityOnHover":0.6},"log":false});</script></body>
</html>
